

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Extras &mdash; PythonCert220 2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> PythonCert220
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Lesson content</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PythonCert220</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Extras</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/modules/lesson05/extras.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="extras">
<h1>Extras<a class="headerlink" href="#extras" title="Permalink to this headline">¶</a></h1>
<div class="section" id="compare-database-types">
<h2>Compare database types<a class="headerlink" href="#compare-database-types" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Database</p></td>
<td><p>Strengths</p></td>
<td><p>Weaknesses</p></td>
<td><p>Good uses</p></td>
</tr>
<tr class="row-even"><td><p>Redis :</p>
<p>Data structure
server, message
queuing, caching</p>
</td>
<td><p>Rapid access where
data size can be
predetermined (all
data held in
memory).</p>
<p>Realtime
applications -
“instant” access
to data by its
key.</p>
<p>Easily store sets
and lists.</p>
<p>High availability</p>
</td>
<td><p>Querying</p>
<p>All data needs to
fit in RAM</p>
<p>Security very
basic</p>
</td>
<td><p>Look up data
(reference data).</p>
<p>Caching.</p>
<p>Very fast access
to data - real
time apps</p>
</td>
</tr>
<tr class="row-odd"><td><p>Neo4j :</p>
<p>Graph database</p>
</td>
<td><p>Powerful querying</p>
<p>Very fast</p>
<p>Flexible data
structures,
handles
complexity.</p>
<p>Fully ACID
compliant
(protects data
quality and
integrity)</p>
</td>
<td><p>Scaling can be a
problem in certain
situations (very
high end).</p>
<p>Doesn’t offer an
advantage if data
structure and
relationships are
simple.</p>
</td>
<td><p>Applications that
emphasize
maintaining and
tracking complex
relationships
between data, such
as master data
management, and
analyzing business
events.</p>
<p>Investigative
applications
(stock trades).</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="redis">
<h2>Redis<a class="headerlink" href="#redis" title="Permalink to this headline">¶</a></h2>
<p>Redis is a great database to help improve performance of an application.
It can act as a cache, but while this makes things very fast, it can require
significant memory to hold all the data. Application startup time can be slowed
down too, due to the time to initially populate, or seed the cache.</p>
<p>For more details see:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://redislabs.com/lp/python-redis/">https://redislabs.com/lp/python-redis/</a></p></li>
<li><p><a class="reference external" href="https://opensource.com/article/18/4/how-build-hello-redis-with-python">https://opensource.com/article/18/4/how-build-hello-redis-with-python</a></p></li>
</ul>
</div>
<div class="section" id="neo4j">
<h2>Neo4J<a class="headerlink" href="#neo4j" title="Permalink to this headline">¶</a></h2>
<p>In computing, a graph database is a database that uses graph concepts
and theory from math to represent and store data.</p>
<p>This is in contrast to RDBMSs, where the data are stored in individual
tables, with the relationships between the tables maintained via primary
and foreign keys, and the actual relationships determined on the fly by
searching multiple tables during “join” queries. RDBMSs are well
optimized for these kinds of queries, but Graph Databases can be much
more efficient for data retrieval when the records have complex
relationships.</p>
<p>For more detail see:</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Graph_database">https://en.wikipedia.org/wiki/Graph_database</a>
<a class="reference external" href="https://medium.com/labcodes/graph-databases-talking-about-your-data-relationships-with-python-b438c689dc89">https://medium.com/labcodes/graph-databases-talking-about-your-data-relationships-with-python-b438c689dc89</a>
<a class="reference external" href="https://neo4j.com/developer/python/">https://neo4j.com/developer/python/</a></p>
</div>
<div class="section" id="persistence-and-serialization">
<h2>Persistence and Serialization<a class="headerlink" href="#persistence-and-serialization" title="Permalink to this headline">¶</a></h2>
<p>Beyond using databases, there are various simple ways to store data in
our Python programs. We refer to these as persistence and serialization,
which are closely related. Serialization means taking a potentially
complex data structure and converting it into a single string of
bytes. Persistence is storing data simply in a way that it will persist
beyond the run-time of your program.</p>
<p>Serialization:
<a class="reference external" href="https://en.wikipedia.org/wiki/Serializa_on%20">h</a><a class="reference external" href="https://en.wikipedia.org/wiki/Serializa_on%20">ttps://en.wikipedia.org/wiki/Serializa_on </a></p>
<p>Persistence: <a class="reference external" href="https://en.wikipedia.org/wiki/Persistence_(computer_science">https://en.wikipedia.org/wiki/Persistence_(computer_science</a>)</p>
<p>They are closely related, because most forms of persistent storage –
simple text files, databases, etc, require that it be turned into a
simple string of bytes first. After all, everything done with computers
is ultimately a serial string of bytes. And serialization is also very
useful for transmitting information between systems, such as
over a network.</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>We are going to illustrate persistence using Pickle, Shelve, CSV files
and JSON.</p>
<p>Pickle is a simple way to store and retrieve the contents of a Python
object. Pickle serializes the data before writing it to disk, and
deserializes it when reading from disk. Here is a good article that
summarized Pickle:</p>
<p><a class="reference external" href="https://pythontips.com/2013/08/02/what-is-pickle-in-python/">https://pythontips.com/2013/08/02/what-is-pickle-in-python/</a></p>
<p>Shelve stores objects too, but the objects must be associated with a
key. This key is used to retrieve the shelved object. See:</p>
<p><a class="reference external" href="https://pythontips.com/2013/08/02/what-is-pickle-in-python/">https://pythontips.com/2013/08/02/what-is-pickle-in-python/</a></p>
<p>CSV, or comma separated files, are used for data interchange between a
very wide range of software products, including most notably
spreadsheets. There are many forms of CSV files, but all share the common
property of using the comma to delimit field values, and end of line to
separate records. See:</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Comma-separated_values">https://en.wikipedia.org/wiki/Comma-separated_values</a></p>
<p>Finally, JSON files, which stands for Javascript Object Notation, are
used in many modern web applications. They are easier to read and write
(both for humans and computers) than the interchange format they often
replace, which is XML. See:</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/JSON">https://en.wikipedia.org/wiki/JSON</a></p>
<p>Here is  an example of a partial program that uses each of these:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">pickle etc</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># code intentionally omitted - see git for complete module</span>


<span class="k">def</span> <span class="nf">run_example</span><span class="p">(</span><span class="n">furniture_items</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    various persistence and serialization scenarios</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">run_pickle</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write and read with pickle</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">====&quot;</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Demonstrate persistence with pickle&#39;</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Write a pickle file with the furniture data&#39;</span><span class="p">)</span>

        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">furniture_items</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/data.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">))</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Now read it back from the pickle file&#39;</span><span class="p">)</span>
        <span class="n">read_data</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/data.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">))</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Show that the write and read were successful&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">read_data</span> <span class="o">==</span> <span class="n">furniture_items</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;and print the data&quot;</span><span class="p">)</span>
        <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">read_data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_shelve</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        write and read with shelve</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">====&quot;</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Demonstrate working with shelve&quot;</span><span class="p">)</span>
        <span class="n">shelf_file</span> <span class="o">=</span> <span class="n">shelve</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;data/shelve.dat&#39;</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;store data at key&quot;</span><span class="p">)</span>
        <span class="n">shelf_file</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">furniture_items</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Now retrieve a COPY of data at key&quot;</span><span class="p">)</span>
        <span class="n">read_items</span> <span class="o">=</span> <span class="n">shelf_file</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Check it worked&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">read_items</span> <span class="o">==</span> <span class="n">furniture_items</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;And now print the copy&quot;</span><span class="p">)</span>
        <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">read_items</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;delete data stored at key to cleanup and close&quot;</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">shelf_file</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span>
        <span class="n">shelf_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">run_csv</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        write and read a csv</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">====&quot;</span><span class="p">)</span>
        <span class="n">peopledata</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;second guitar&#39;</span><span class="p">,</span> <span class="mf">117.45</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;Paul&#39;</span><span class="p">,</span> <span class="s1">&#39;bass&#39;</span><span class="p">,</span> <span class="mf">22.01</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;George&#39;</span><span class="p">,</span> <span class="s1">&#39;lead guitar&#39;</span><span class="p">,</span> <span class="mf">45.99</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;Ringo&#39;</span><span class="p">,</span> <span class="s1">&#39;drume&#39;</span><span class="p">,</span> <span class="mf">77.0</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;Roger&#39;</span><span class="p">,</span> <span class="s1">&#39;vocals&#39;</span><span class="p">,</span> <span class="mf">12.5</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;Keith&#39;</span><span class="p">,</span> <span class="s1">&#39;drums&#39;</span><span class="p">,</span> <span class="mf">6.25</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;Pete&#39;</span><span class="p">,</span> <span class="s1">&#39;guitar&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;bass&#39;</span><span class="p">,</span> <span class="mf">89.71</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Write csv file&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/rockstars.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">people</span><span class="p">:</span>
            <span class="n">peoplewriter</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
            <span class="n">peoplewriter</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">peopledata</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Read csv file back&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/rockstars.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">people</span><span class="p">:</span>
            <span class="n">people_reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">quotechar</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">people_reader</span><span class="p">:</span>
                <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_json</span><span class="p">():</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">====&quot;</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Look at working with json data&quot;</span><span class="p">)</span>
        <span class="n">furniture</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;product&#39;</span><span class="p">:</span> <span class="s1">&#39;Red couch&#39;</span><span class="p">,</span><span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Leather low back&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="s1">&#39;product&#39;</span><span class="p">:</span> <span class="s1">&#39;Blue couch&#39;</span><span class="p">,</span><span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Cloth high back&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="s1">&#39;product&#39;</span><span class="p">:</span> <span class="s1">&#39;Coffee table&#39;</span><span class="p">,</span><span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Plastic&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="s1">&#39;product&#39;</span><span class="p">:</span> <span class="s1">&#39;Red couch&#39;</span><span class="p">,</span><span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Leather high back&#39;</span><span class="p">}]</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Return json string from an object&quot;</span><span class="p">)</span>
        <span class="n">furniture_string</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">furniture</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Print the json&quot;</span><span class="p">)</span>
        <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">furniture_string</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returns an object from a json string representation&quot;</span><span class="p">)</span>
        <span class="n">furniture_object</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">furniture_string</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;print the string&quot;</span><span class="p">)</span>
        <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">furniture_object</span><span class="p">)</span>

    <span class="n">run_pickle</span><span class="p">()</span>
    <span class="n">run_shelve</span><span class="p">()</span>
    <span class="n">run_csv</span><span class="p">()</span>
    <span class="n">run_json</span><span class="p">()</span>

    <span class="k">return</span>
</pre></div>
</div>
</div></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, University of Washington, Christopher Barker, Luis Diego Conejo, Andy Miles, Rick Riehle, Joseph Schilz. Creative Commons Attribution-ShareAlike 3.0 license

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>