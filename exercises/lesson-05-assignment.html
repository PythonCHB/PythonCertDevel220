

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Assignment: Lesson 05 Assignment &mdash; PythonCert220 2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PythonCert220
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Exercise notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supplemental/index.html">Supporting materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">External links</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PythonCert220</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Assignment: Lesson 05 Assignment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/exercises/lesson-05-assignment.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="assignment-lesson-05-assignment">
<h1>Assignment: Lesson 05 Assignment<a class="headerlink" href="#assignment-lesson-05-assignment" title="Permalink to this headline">¶</a></h1>
<div id="menuheading"><p class="cah2 rubric" id="logging-and-debugging">Logging and Debugging</p>
<div id="navbar" class="caNav grid-row around-md clearunderlinestyle"
role="navigation"><p><a class="reference external" href="%24WIKI_REFERENCE%24/pages/lesson-05-introduction">Introduction</a> |
<a class="reference external" href="%24WIKI_REFERENCE%24/pages/lesson-05-content">Content</a> |
<a class="reference external" href="%24CANVAS_OBJECT_REFERENCE%24/quizzes/ie7895b971d4a0e2e35b415eb863435b0">Quiz</a>&nbsp;|
<a class="reference external" href="%24CANVAS_OBJECT_REFERENCE%24/assignments/i89c943e0018a913b1c51e640fa38f289">Activity</a>
|
<a class="reference external" href="%24CANVAS_OBJECT_REFERENCE%24/assignments/i6935f2eba782af5becab9aa3ea3829ca">Assignment</a>
| <a class="reference external" href="%24CANVAS_OBJECT_REFERENCE%24/discussion_topics/i72c5561508c841b38aa31c3d12c9e1c7">Code
Talk</a></p>
</div></div><div class="section" id="instructions">
<h2>Instructions<a class="headerlink" href="#instructions" title="Permalink to this headline">¶</a></h2>
<p>Your assignment is a continuation of the&nbsp;<strong>logging</strong> exercise that we
completed in the course content. We last left the code like so:</p>
<div
style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#simple.py</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> </span><span class="si">%(filename)s</span><span class="s2">:</span><span class="si">%(lineno)-3d</span><span class="s2"> </span><span class="si">%(levelname)s</span><span class="s2"> </span><span class="si">%(message)s</span><span class="s2">&quot;</span>

<span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span>

<span class="n">file_handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="s1">&#39;mylog.log&#39;</span><span class="p">)</span>
<span class="n">file_handler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>
<span class="n">file_handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>

<span class="n">console_handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
<span class="n">console_handler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">console_handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">file_handler</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">console_handler</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">my_fun</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">50</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;The value of i is 50.&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">/</span> <span class="p">(</span><span class="mi">50</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Tried to divide by zero. Var i was </span><span class="si">{}</span><span class="s2">. Recovered gracefully.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">my_fun</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div><p>For this assignment, you’ll be making some modifications to the code.
The biggest modification is that we’ll be adding the ability to send our
log messages to a remote server somewhere on the internet. This can be
useful if you have a lot of copies of your code running in production
and you want all of them to send messages to a single logging server
from which you can monitor the health of all of the running copies.</p>
<p>Look into the assignment directory for this lesson. I have provided a
syslog server that you will run on your own machine to receive these log
messages. Although you’ll be running the server locally on your own
machine, in practice the server could receive these messages from
anywhere on the internet because the messages are being sent over
UDP/IP.</p>
<p>To complete this assignment, modify&nbsp;simple.py&nbsp;to satisfy the following
goals:</p>
<ul class="simple">
<li>You want ALL log messages logged to the console. The format of these
messages should include the current time.</li>
<li>You want WARNING and higher messages logged to a file named {
todays-date }.log. The format of these messages should include the
current time.</li>
<li>You want ERROR and higher messages logged to a syslog server. The
syslog server will be appending its own time stamps to the messages
that it receives, so DO NOT include the current time in the format of
the log messages that you send to the server.</li>
</ul>
<p>Some of these goals may already be accomplished or partially
accomplished by the existing code.</p>
<p>To complete this assignment, you will need to create:</p>
<ul class="simple">
<li>A second instance of Formatter. Because the three different
destinations for your log messages require two different formats (one
with time stamps and one without), you’ll need two different
instances of Formatter.</li>
<li>A third Handler, to send messages to the syslog server.</li>
</ul>
<div class="section" id="hints">
<h3>Hints<a class="headerlink" href="#hints" title="Permalink to this headline">¶</a></h3>
<p>Look at the list of Handler classes in the Python logging
documentation.&nbsp;The code above instantiates a FileHandler and a
StreamHandler, and you’ll need to instantiate a new handler type in
order to complete this assignment. Specifically, you’ll need to create a
SysLogHandler.</p>
<p>If you’re completing this assignment on Windows, then you may have to
use a DatagramHandler instead of a SysLogHandler. The address and port
will be ‘127.0.0.1’ and 514, respectively. The DatagramHandler will
produce uglier output than the SysLogHandler, but it will suffice for
the purposes of this assignment.</p>
</div>
<div class="section" id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<p>To test your completed work, open a terminal window and run the included
syslogserver.py.</p>
<p>In another terminal window, run simple.py. As the program runs, you
should see all of the logging messages from the program appear,
including the DEBUG messages. The terminal window containing the server
should show only the ERROR messages generated by the system. And after
the program has completed, it should generate a file { todays-date
}.log, containing the program’s WARNING and ERROR messages.</p>
</div>
</div>
<div class="section" id="submitting-your-work">
<h2>Submitting Your Work<a class="headerlink" href="#submitting-your-work" title="Permalink to this headline">¶</a></h2>
<p>Put the&nbsp;file(s) (ex: a_new_file.py) in your student directory in a new
subdirectory named for this lesson, and add it to your clone early (git
add a_new_file.py). Make frequent commits with good, clear messages
about what you’re doing and why.</p>
<p>When you’re done and ready for the instructors to review your work, push
your changes to your GitHub fork (git push) and then go to the GitHub
website and make a pull request. Copy the link to the pull request.</p>
<p>Click&nbsp;the <em>Submit Assignment</em> button in the upper right.</p>
<p><strong>Part 1: File(s)</strong></p>
<p>Use the&nbsp;<em>Choose File</em>&nbsp;button to find and select the saved&nbsp;.py file or,
if there are multiple files for the assignment, the .zip file.</p>
<p><strong>Part 2: GitHub Link</strong></p>
<p>Paste the GitHub link to the pull request in the comments area.</p>
<p>Click the&nbsp;<em>Submit Assignment</em> button.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, University of Washington, Christopher Barker, Luis Diego Conejo, Andy Miles, Rick Riehle, Joseph Schilz. Creative Commons Attribution-ShareAlike 3.0 license

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>